@using UniversityEventsManagement.Controllers
@using Microsoft.AspNetCore.Mvc.Localization
@model ForgotPasswordViewModel
@inject IViewLocalizer Localizer

@{
    ViewData["Title"] = "استعادة كلمة المرور";
}

@section Styles {
    <style>
        .forgot-password-icon-wrapper {
            display: inline-block;
            padding: 20px;
            background: linear-gradient(135deg, #C0392B 0%, #E74C3C 100%);
            border-radius: 50%;
            box-shadow: 0 4px 15px rgba(192, 57, 43, 0.3);
            margin-bottom: 20px;
            transition: all 0.3s ease;
        }

        .forgot-password-icon-wrapper:hover {
            transform: translateY(-5px) scale(1.05);
            box-shadow: 0 6px 20px rgba(192, 57, 43, 0.4);
        }

        .forgot-password-icon {
            color: white;
            font-size: 3rem;
            display: block;
        }

        .info-box {
            background: linear-gradient(135deg, #fff5f5 0%, #ffe5e5 100%);
            padding: 20px;
            border-radius: 10px;
            margin: 20px 0;
            border-right: 4px solid #C0392B;
        }

        .btn-danger {
            background: linear-gradient(135deg, #C0392B 0%, #E74C3C 100%);
            border: none;
        }

        .btn-danger:hover {
            background: linear-gradient(135deg, #a03025 0%, #c03a2d 100%);
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(192, 57, 43, 0.4);
        }
    </style>
}

<div class="container">
    <div class="row justify-content-center">
        <div class="col-md-5">
            <div class="card mt-5">
                <div class="card-body p-5">
                    <div class="text-center mb-4">
                        <div class="forgot-password-icon-wrapper">
                            <i class="fas fa-unlock-alt forgot-password-icon"></i>
                        </div>
                        <h2 class="mt-3">استعادة كلمة المرور</h2>
                    </div>

                    <div class="info-box">
                        <p class="mb-0">
                            <i class="fas fa-info-circle text-danger"></i>
                            أدخل بريدك الإلكتروني وسنرسل إليك رمز التحقق لإعادة تعيين كلمة المرور.
                        </p>
                    </div>

                    <form method="post" asp-action="ForgotPassword">
                        <div asp-validation-summary="ModelOnly" class="alert alert-danger"></div>

                        <div class="mb-4">
                            <label asp-for="Email" class="form-label">البريد الإلكتروني</label>
                            <input asp-for="Email" 
                                   type="email" 
                                   class="form-control form-control-lg" 
                                   placeholder="example@email.com"
                                   required 
                                   autofocus>
                            <span asp-validation-for="Email" class="text-danger"></span>
                        </div>

                        <button type="submit" class="btn btn-danger btn-lg w-100 mb-3">
                            <i class="fas fa-paper-plane"></i> إرسال رمز التحقق
                        </button>

                        <div class="text-center mt-3">
                            <a href="/Account/Login" class="text-muted">
                                <i class="fas fa-arrow-right"></i> العودة إلى تسجيل الدخول
                            </a>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>
</div>

@section Scripts {
    @{await Html.RenderPartialAsync("_ValidationScriptsPartial");}
    <script>
        @if (TempData["Info"] != null)
        {
            <text>
            $(document).ready(function() {
                alert('@Html.Raw(TempData["Info"])');
            });
            </text>
        }
        
        @if (TempData["Error"] != null)
        {
            <text>
            $(document).ready(function() {
                alert('@Html.Raw(TempData["Error"])');
            });
            </text>
        }
    </script>
}

